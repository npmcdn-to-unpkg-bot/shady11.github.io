<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Flat.FM</title>
    <link rel="stylesheet" href="css/sanitize.css"/>
    <link rel="stylesheet" href="css/fonts.css"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>

    <div class="wrapper">
        <div class="header">
            <h1>Расписание на сегодня</h1>
        </div>

        <div class="main-content">
            <ul id="blocks" class="blocks">
                <li class="bc-passed">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="bc-passed">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="bc-passed">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-passed">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-current">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>23:42</h4>
                        </div>
                        <div class="bc-date">
                            <h5>прямой эфир
                                <span id="bcLive"></span>
                            </h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>00:56</h4>
                        </div>
                        <div class="bc-date">
                            <h5>сегодня, в эфире через 40 минут</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>01:11</h4>
                        </div>
                        <div class="bc-date">
                            <h5>сегодня, в эфире через 40 минут</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>02:11</h4>
                        </div>
                        <div class="bc-date">
                            <h5>сегодня, в эфире через 40 минут</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="visible bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>03:07</h4>
                        </div>
                        <div class="bc-date">
                            <h5>сегодня, в эфире через 40 минут</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="bc-coming">
                    <div class="bc-header">
                        <div class="bc-time">
                            <h4>22:37</h4>
                        </div>
                        <div class="bc-date">
                            <h5>29 мая, пятница, был в эфире 1 час назад</h5>
                        </div>
                    </div>
                    <div class="bc-body">
                        <div class="bc-img">
                            <img src="images/img.jpg" alt="Image"/>
                        </div>
                        <div class="bc-track">
                            <div class="bc-avatar">
                                <img src="images/avatar.jpg" alt="Avatar"/>
                            </div>
                            <div class="bc-track-info">
                                <h5>Nick Kobba</h5>
                                <h4>Mountains: Unpala de Silva</h4>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            var counter1 = 0, counter2 = 0, counter3 = 0;
            var liCount = $("#blocks").children().length;
            var liWidth = $("#blocks li").outerWidth();
            var liHeight = $("#blocks li").outerHeight();

            blink($('#bcLive'), -1, 500);

            for(var i=1; i<=liCount; i++){
                if(i%3==1){
                    counter1++;
                }
                if(i%3==2){
                    counter2++;
                }
                if(i%3==0){
                    counter3++;
                }
            }

            for(var i=0; i<counter1; i++){
                if(i==0){
                    $("#blocks li:nth-child("+(3*i+1)+")").css(
                        {
                            'top': 0,
                            'left': 53-liWidth
                        }
                    );
                }else if(i==counter1-1){
                    $("#blocks li:nth-child("+(3*i+1)+")").css(
                            {
                                'top': 0,
                                'left': 53+(i-1)*liWidth,
                                'border-right' : '1px solid #5473af'
                            }
                    );
                }else{
                    $("#blocks li:nth-child("+(3*i+1)+")").css(
                            {
                                'top': 0,
                                'left': 53+(i-1)*liWidth
                            }
                    );
                }
            }
            for(var i=0; i<counter2; i++){
                if(i==0){
                    $("#blocks li:nth-child("+(3*i+2)+")").css(
                            {
                                'top': liHeight,
                                'left': 53-liWidth
                            }
                    );
                }else if(i==counter2-1){
                    $("#blocks li:nth-child("+(3*i+2)+")").css(
                            {
                                'top': liHeight,
                                'left': 53+(i-1)*liWidth,
                                'border-right' : '1px solid #5473af'
                            }
                    );
                }else if(i==1){
                    $("#blocks li:nth-child("+(3*i+2)+")").css(
                            {
                                'height': liHeight+1,
                                'width': liWidth+1,
                                'top': liHeight,
                                'left': 53+(i-1)*liWidth
                            }
                    );
                }else{
                    $("#blocks li:nth-child("+(3*i+2)+")").css(
                            {
                                'top': liHeight,
                                'left': 53+(i-1)*liWidth
                            }
                    );
                }
            }
            for(var i=0; i<counter3; i++){
                if(i==0){
                    $("#blocks li:nth-child("+(3*i+3)+")").css(
                            {
                                'top': liHeight*2,
                                'left': 53-liWidth,
                                'border-bottom' : '1px solid #5473af'
                            }
                    );
                }else if(i==counter2-1){
                    $("#blocks li:nth-child("+(3*i+3)+")").css(
                            {
                                'top': liHeight*2,
                                'left': 53+(i-1)*liWidth,
                                'border-right' : '1px solid #5473af',
                                'border-bottom' : '1px solid #5473af'
                            }
                    );
                }else{
                    $("#blocks li:nth-child("+(3*i+3)+")").css(
                            {
                                'top': liHeight*2,
                                'left': 53+(i-1)*liWidth,
                                'border-bottom' : '1px solid #5473af'
                            }
                    );
                }
            }
        });

        function blink(elem, times, speed) {
            if (times > 0 || times < 0) {
                if ($(elem).hasClass("blink"))
                    $(elem).removeClass("blink");
                else
                    $(elem).addClass("blink");
            }

            clearTimeout(function () {
                blink(elem, times, speed);
            });

            if (times > 0 || times < 0) {
                setTimeout(function () {
                    blink(elem, times, speed);
                }, speed);
                times -= .5;
            }
        }
    </script>

</body>
</html>